import{a as Q}from"../chunks/CpeOI1GT.js";import{r as R}from"../chunks/KjYeVjkE.js";import{t as W,a as k}from"../chunks/Bra_S4fl.js";import{p as U,t as z,a as V,$ as X,s as n,c as r,r as s,n as Z,g as o,i as C,b as F,d as A}from"../chunks/BXvjSyo1.js";import{s as E}from"../chunks/cMSbZ_VT.js";import{i as $}from"../chunks/ChysxtMs.js";import{h as ee}from"../chunks/UyLqrWNA.js";import{a as te,e as ae}from"../chunks/DH1Xbp5u.js";import{r as d,a as u}from"../chunks/B-Owt90U.js";import{s as P}from"../chunks/BIYmJOqi.js";/* empty css                */import{a as re}from"../chunks/DIdMOMjp.js";async function se({parent:f}){const e=await f();return Q(e==null?void 0:e.profile)&&R(303,"/account/select_plan"),e}const we=Object.freeze(Object.defineProperty({__proto__:null,load:se},Symbol.toStringTag,{value:"Module"}));var le=W('<p class="text-red-700 text-sm font-bold text-center mt-3"> </p>'),ne=W('<div class="text-center content-center max-w-lg mx-auto min-h-[100vh] pb-12 flex items-center place-content-center"><div class="flex flex-col w-64 lg:w-80"><div><h1 class="text-2xl font-bold mb-6">Create Profile</h1> <form class="form-widget" method="POST" action="/account/api?/updateProfile"><div class="mt-4"><label for="fullName"><span class="text-l text-center">Your Name</span></label> <input id="fullName" name="fullName" type="text" placeholder="Your full name" maxlength="50"></div> <div class="mt-4"><label for="companyName"><span class="text-l text-center">Company Name</span></label> <input id="companyName" name="companyName" type="text" placeholder="Company name" maxlength="50"></div> <div class="mt-4"><label for="website"><span class="text-l text-center">Company Website</span></label> <input id="website" name="website" type="text" placeholder="Company website" maxlength="50"></div> <!> <div class="mt-4"><input type="submit" class="btn btn-primary mt-3 btn-wide"></div></form> <div class="text-sm text-slate-800 mt-14"> <br> <a class="underline" href="/account/sign_out">Sign out</a></div></div></div></div>');function ye(f,e){U(e,!0);let{user:p,profile:l}=e.data,m=F(!1),q=(l==null?void 0:l.full_name)??"",B=(l==null?void 0:l.company_name)??"",D=(l==null?void 0:l.website)??"";const v=(t,a)=>((t==null?void 0:t.errorFields)??[]).includes(a),G=()=>(A(m,!0),async({update:t,result:a})=>{await t({reset:!1}),await re(a),A(m,!1)});var x=ne();ee(t=>{X.title="Create Profile"});var S=r(x),M=r(S),c=n(r(M),2),_=r(c),b=n(r(_),2);d(b);const H=C(()=>`${(v(e.form,"fullName")?"input-error":"")??""} mt-1 input input-bordered w-full max-w-xs`);s(_);var w=n(_,2),y=n(r(w),2);d(y);const I=C(()=>`${(v(e.form,"companyName")?"input-error":"")??""} mt-1 input input-bordered w-full max-w-xs`);s(w);var g=n(w,2),h=n(r(g),2);d(h);const J=C(()=>`${(v(e.form,"website")?"input-error":"")??""} mt-1 input input-bordered w-full max-w-xs`);s(g);var O=n(g,2);{var K=t=>{var a=le(),i=r(a,!0);s(a),z(()=>{var T;return E(i,(T=e.form)==null?void 0:T.errorMessage)}),k(t,a)};$(O,t=>{var a;(a=e.form)!=null&&a.errorMessage&&t(K)})}var Y=n(O,2),N=r(Y);d(N),s(Y),s(c),te(c,(t,a)=>{var i;return(i=ae)==null?void 0:i(t,a)},()=>G);var j=n(c,2),L=r(j);Z(3),s(j),s(M),s(S),s(x),z(()=>{var t,a,i;P(b,o(H)),u(b,((t=e.form)==null?void 0:t.fullName)??q),P(y,o(I)),u(y,((a=e.form)==null?void 0:a.companyName)??B),P(h,o(J)),u(h,((i=e.form)==null?void 0:i.website)??D),u(N,o(m)?"...":"Create Profile"),N.disabled=o(m),E(L,`You are logged in as ${(p==null?void 0:p.email)??""}. `)}),k(f,x),V()}export{ye as component,we as universal};
