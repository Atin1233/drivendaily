import{i as P,c as A,a as h,l as S}from"./D8smyZ_o.js";import{r as l}from"./KjYeVjkE.js";import{C as d}from"./B492L24E.js";var f={};const u=f.PUBLIC_SUPABASE_URL||"https://fake_test_url.supabase.co",_=f.PUBLIC_SUPABASE_ANON_KEY||"fake_anon_key",g=async({fetch:e,data:o,depends:m,url:n})=>{m("supabase:auth");const t=P()?A(u,_,{global:{fetch:e}}):h(u,_,{global:{fetch:e},cookies:{getAll(){return o.cookies}}}),{session:i,user:a}=await S(o.session,t);(!i||!a)&&l(303,"/login");const{data:s}=await t.from("profiles").select("*").eq("id",a.id).single(),{data:r}=await t.auth.mfa.getAuthenticatorAssuranceLevel(),c="/account/create_profile";return s&&!p(s)&&n.pathname!==c&&n.pathname!=="/account/sign_out"&&d&&l(303,c),{supabase:t,session:i,profile:s,user:a,amr:r==null?void 0:r.currentAuthenticationMethods}},p=e=>!(!e||!e.full_name||!e.company_name||!e.website),L=Object.freeze(Object.defineProperty({__proto__:null,_hasFullProfile:p,load:g},Symbol.toStringTag,{value:"Module"}));export{L as _,p as a};
