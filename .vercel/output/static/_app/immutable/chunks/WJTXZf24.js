import{t as u,a as v,c as vt,n as mt,b as dt}from"./Bra_S4fl.js";import{p as ut,a as ct,s as k,c as o,g as s,b as Q,r as n,t as _,f as O,i as ft,n as _t,d as C}from"./BXvjSyo1.js";import{s as w}from"./cMSbZ_VT.js";import{i as g}from"./ChysxtMs.js";import{e as pt,i as bt}from"./C7RKV4kG.js";import{a as xt,e as gt}from"./DH1Xbp5u.js";import{s as T,r as ht,a as wt}from"./B-Owt90U.js";import{s as P}from"./BIYmJOqi.js";import{p as h}from"./vC8Mi9xF.js";import{s as yt,a as Tt}from"./DukglcIF.js";import{p as kt}from"./BL4AGPDN.js";import{a as St}from"./DIdMOMjp.js";var Bt=u('<div class="text-xl font-bold mb-3 w-48 md:pr-8 flex-none"> </div>'),Lt=mt('<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>'),Mt=u("<div><!> <span> </span></div>"),Vt=u('<label><span class="text-sm text-gray-500"> </span></label>'),jt=u("<input>"),zt=u('<div class="text-lg mb-3"> </div>'),At=u("<!> <!>",1),Et=u('<p class="text-red-700 text-sm font-bold mt-1"> </p>'),Ot=u('<span class="loading loading-spinner loading-md align-middle mx-3"></span>'),Pt=u('<div><button type="submit"><!></button></div>'),Rt=u('<a class="mt-1"><button> </button></a>'),qt=u('<!> <form class="form-widget flex flex-col" method="POST"><!> <!> <!></form>',1),Ct=u('<div><div class="text-l font-bold"> </div> <div class="text-base"> </div></div> <a href="/account/settings"><button class="btn btn-outline btn-sm mt-3 min-w-[145px]">Return to Settings</button></a>',1),Dt=u('<div class="card p-6 pb-7 mt-8 max-w-xl flex flex-col md:flex-row shadow-sm"><!> <div class="w-full min-w-48"><!></div></div>');function Ft(U,c){ut(c,!0);const W=yt(),L=()=>Tt(kt,"$page",W),X=(i,m)=>((i==null?void 0:i.errorFields)??[]).includes(m);let j=Q(!1),D=Q(!1),R=h(c,"editable",3,!1),z=h(c,"dangerous",3,!1),G=h(c,"title",3,""),H=h(c,"message",3,""),Y=h(c,"formTarget",3,""),Z=h(c,"successTitle",3,"Success"),F=h(c,"successBody",3,""),I=h(c,"editButtonTitle",3,null),J=h(c,"editLink",3,null),$=h(c,"saveButtonTitle",3,"Save");const tt=()=>(C(j,!0),async({update:i,result:m})=>{await i({reset:!1}),await St(m),C(j,!1),m.type==="success"&&C(D,!0)});var q=Dt(),K=o(q);{var at=i=>{var m=Bt(),y=o(m,!0);n(m),_(()=>w(y,G())),v(i,m)};g(K,i=>{G()&&i(at)})}var N=k(K,2),et=o(N);{var rt=i=>{var m=qt(),y=O(m);{var M=r=>{var t=Mt(),a=o(t);{var f=l=>{var b=Lt();v(l,b)};g(a,l=>{z()&&l(f)})}var d=k(a,2),p=o(d,!0);n(d),n(t),_(()=>{P(t,`mb-6 ${(z()?"alert alert-warning":"")??""}`),w(p,H())}),v(r,t)};g(y,r=>{H()&&r(M)})}var S=k(y,2),V=o(S);pt(V,17,()=>c.fields,bt,(r,t)=>{var a=At(),f=O(a);{var d=x=>{var e=Vt(),B=o(e),E=o(B,!0);n(B),n(e),_(()=>{T(e,"for",s(t).id),w(E,s(t).label)}),v(x,e)};g(f,x=>{s(t).label&&x(d)})}var p=k(f,2);{var l=x=>{var e=jt();ht(e);const B=ft(()=>{var E;return`${(X((E=L())==null?void 0:E.form,s(t).id)?"input-error":"")??""} input-sm mt-1 input input-bordered w-full max-w-xs mb-3 text-base py-4`});_(()=>{T(e,"id",s(t).id),T(e,"name",s(t).id),T(e,"type",s(t).inputType??"text"),e.disabled=!R(),T(e,"placeholder",s(t).placeholder??s(t).label??""),P(e,s(B)),wt(e,L().form?L().form[s(t).id]:s(t).initialValue),T(e,"maxlength",s(t).maxlength?s(t).maxlength:null)}),v(x,e)},b=x=>{var e=zt(),B=o(e,!0);n(e),_(()=>w(B,s(t).initialValue)),v(x,e)};g(p,x=>{R()?x(l):x(b,!1)})}v(r,a)});var A=k(V,2);{var ot=r=>{var t=Et(),a=o(t,!0);n(t),_(()=>{var f,d;return w(a,(d=(f=L())==null?void 0:f.form)==null?void 0:d.errorMessage)}),v(r,t)};g(A,r=>{var t,a;(a=(t=L())==null?void 0:t.form)!=null&&a.errorMessage&&r(ot)})}var nt=k(A,2);{var it=r=>{var t=Pt(),a=o(t),f=o(a);{var d=l=>{var b=Ot();v(l,b)},p=l=>{var b=dt();_(()=>w(b,$())),v(l,b)};g(f,l=>{s(j)?l(d):l(p,!1)})}n(a),n(t),_(()=>{P(a,`ml-auto btn btn-sm mt-3 min-w-[145px] ${(z()?"btn-error":"btn-primary btn-outline")??""}`),a.disabled=s(j)}),v(r,t)},lt=r=>{var t=vt(),a=O(t);{var f=d=>{var p=Rt(),l=o(p),b=o(l,!0);n(l),n(p),_(()=>{T(p,"href",J()),P(l,`btn btn-outline btn-sm ${(z()?"btn-error":"")??""} min-w-[145px]`),w(b,I())}),v(d,p)};g(a,d=>{I()&&J()&&d(f)},!0)}v(r,t)};g(nt,r=>{R()?r(it):r(lt,!1)})}n(S),xt(S,(r,t)=>{var a;return(a=gt)==null?void 0:a(r,t)},()=>tt),_(()=>T(S,"action",Y())),v(i,m)},st=i=>{var m=Ct(),y=O(m),M=o(y),S=o(M,!0);n(M);var V=k(M,2),A=o(V,!0);n(V),n(y),_t(2),_(()=>{w(S,Z()),w(A,F())}),v(i,m)};g(et,i=>{s(D)?i(st,!1):i(rt)})}n(N),n(q),v(U,q),ct()}export{Ft as S};
